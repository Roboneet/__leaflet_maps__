<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title></title>

   <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.41.0/mapbox-gl.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.41.0/mapbox-gl.css' rel='stylesheet' />
   <style type="text/css">
   *{
	   	margin: 0 ;
	   	padding: 0;
	   	font: 18px/22px arial, verdana;
	   	box-sizing: border-box;
	   	transition: all .5s linear;
   }
   body{
   	background: #eee;
   	
   }
   	.main_wrapper{
   		width: 100vw;
   		display: flex;
   		flex-direction: row;
   		flex-wrap: wrap;
   	}

   	.side_bar{
/*   		min-width: 500px;*/
   		display: flex;
   		justify-content: center;
   		padding: 30px 0;
   		background: rgba(27,25,24,0.8);
   		color: #eee;
   	}
   	.map{
   		flex: 2;
   		
   		height: 100vh;
   	}

   	@media only screen and (max-width: 768px){
   		.main-wrapper{
   			flex-direction: column;
   		}
   			
   		.side_bar{
   			min-height: 50vh;
   			min-width: 100vw;
   		}

   		.side_bar .heading{
   			text-align: center;
   		}

   		.map{
   			height: 50vh;
   			width: 100vw;
   			min-width: 300px;
   			flex: 1;
   		}

   		.submit{
   			text-align: center;
   		}
   	}

   	.heading{
   		font-size: 25px;
   		line-height: 50px;
   	}

   	.field{
   		margin: 30px 0;
   		padding: 5px 10px;
   		border: 1px solid #aaa;
   		border-radius: 3px;
   		color: #eee;
   	}
   	.field input{
   		line-height: 30px;
   		border-radius: 6px;
   		margin: 0 20px;
   		box-shadow: none;
   		border: none;
   		background: transparent;
   		min-width: 200px;
   		color: #eee;
   	}
   	.field input::-webkit-input-placeholder {
   		color: #eaeaea;
   	}
   	.field input:focus, .submit button:focus{
   		border: none;
   		outline: none;
   	}

   	.submit button{
   		padding: 10px;
   		font-size: 20px;
   		border-radius: 3px;
   		border: none;
   		background: #4b87bf;
   		color: #fff;
   		width: 150px;
   		box-shadow: 0 5px 0 #80acd4;
   		transition-timing-function: cubic-bezier(0.43, 0.55, 0.07, 1.05);
   	}

   	.submit button:active{
   		transform: translateY(2px);	
   		box-shadow: 0 3px 0 #80acd4;
   	}

   	@media only screen and (min-width: 768px){
   		.submit button{
   			float: right;
   		}
   		.side_bar{
   			padding-left: 40px;
   			padding-right: 40px;
   		}

   		.field input{
   			min-width: 200px;
   		}
   	}
   </style>
</head>
<body>
	<div class="main_wrapper">
	 <div class="side_bar">
	 	<section>
	 		<h1 class="heading">Find your way</h1>
	 		<div class="form">
	 			<div class="field">
	 				<span>	&#127968;</span>
	 				<input type="text" placeholder="Start position">
	 			</div>
	 			<div class="field">
	 				<span>&#128188;</span>
	 				<input type="text" placeholder="End position">
	 			</div>
	 			<div class="submit">
	 				<button >Let's go</button>
	 			</div>
	 		</div>
	 	</section>
	 </div>
	 <div class="map" id="__map__"></div>
	</div>

 
	<script type="text/javascript">
		(function(){
			var mapbox_access_token = "pk.eyJ1IjoibWF5YW5rLXRhcHJvdXRlIiwiYSI6ImNqOW9lMW02bjFhc3Iyd240ZGFiemxtcW8ifQ.7ukZTek-mB-_rMLNn5rcZw";
			if(navigator.geolocation){
				navigator.geolocation.getCurrentPosition(initMap);
			}

			function initMap(position){
				console.log(position);
				var lnglat = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);

				mapboxgl.accessToken = mapbox_access_token;
				var map = new mapboxgl.Map({
				    container: '__map__',
				    center: lnglat,
				    zoom: 8,
				    pitch: 0,
				    bearing: 0,
				    hash: true,
				    style: 'mapbox://styles/mapbox/bright-v9'
				});
				// map.pitchWithRotate = true;
				console.log(map);
				var marker = new mapboxgl.Marker()
				  .setLngLat(lnglat)
				  .addTo(map);
			}
		})();
	</script>
</body>
</html>